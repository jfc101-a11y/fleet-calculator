<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Multi-Package Fleet Pricing Calculator</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #081E32 0%, #007A55 100%);
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
  }
  .calculator {
    background-color: #FFFFFF;
    padding: 25px;
    border-radius: 20px;
    box-shadow: 0 12px 30px rgba(0,0,0,0.25);
    width: 750px;
    text-align: center;
  }
  h1 {
    color: #081E32;
    font-size: 28px;
    margin-bottom: 20px;
  }
  .package-container {
    display: flex;
    justify-content: space-between;
    margin-bottom: 15px;
  }
  .package-card {
    flex: 1;
    margin: 0 5px;
    padding: 15px;
    border-radius: 12px;
    border: 2px solid transparent;
    cursor: pointer;
    transition: all 0.3s;
    text-align: center;
    color: #081E32;
    background-color: #F4F5F7;
  }
  .package-card h3 { margin: 10px 0 5px 0; }
  .package-card p { margin: 0; font-weight: bold; }
  .package-card:hover { background-color: #E0E0E0; }
  .package-card.active {
    background-color: #007A55;
    color: #FFFFFF;
    border: 2px solid #007A55;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  }
  .package-card.active h3,
  .package-card.active p {
    color: #FFFFFF;
  }
  #packageDescription {
    margin: 15px 0;
    font-size: 14px;
    color: #081E32;
    line-height: 1.5;
    text-align: left;
    max-height: 450px;
    overflow-y: hidden;
    border-top: 1px solid #F4F5F7;
    border-bottom: 1px solid #F4F5F7;
    padding: 10px 0;
  }
  #packageDescription ul {
    display: flex;
    flex-wrap: wrap;
    padding-left: 0;
    margin: 0;
  }
  #packageDescription ul li {
    width: 50%;
    list-style-type: disc;
    list-style-position: inside;
    padding-left: 10px;
    box-sizing: border-box;
  }
  .highlight {
    font-weight: bold;
    color: #007A55;
  }
  .slider-container, input[type=number] {
    margin: 20px 0;
    display: none;
  }
  input[type=range] {
    -webkit-appearance: none;
    width: 100%;
    height: 14px;
    border-radius: 7px;
    background: #F4F5F7;
    outline: none;
  }
  input[type=range]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background: #007A55;
    border: 3px solid #FFFFFF;
    cursor: pointer;
  }
  input[type=range]::-moz-range-thumb {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background: #007A55;
    border: 3px solid #FFFFFF;
    cursor: pointer;
  }
  input[type=number] {
    width: 120px;
    padding: 8px 12px;
    border-radius: 6px;
    border: 2px solid #007A55;
    font-size: 16px;
    text-align: center;
  }
  .tooltip {
    position: absolute;
    top: -42px;
    left: 50%;
    transform: translateX(-50%);
    padding:6px 12px;
    border-radius:6px;
    font-size:14px;
    font-weight:bold;
  }
  .price-container {
    display: flex;
    justify-content: center;
    gap: 30px;
    margin-top: 12px;
  }
  .price-container div {
    font-size: 16px;
    font-weight: 600;
    color: #007A55;
  }
  .price-container div span {
    font-weight: bold;
    color: #081E32;
  }
  .fleet-label { font-weight: bold; color: #007A55; }

  @media (max-width: 800px) {
    .calculator { width: 90%; padding: 20px; }
    .package-container { flex-direction: column; }
    .package-card { margin: 5px 0; }
    #packageDescription ul li { width: 100%; padding-left: 15px; }
  }
  @media (max-width: 500px) {
    input[type=range] { height: 12px; }
    input[type=range]::-webkit-slider-thumb,
    input[type=range]::-moz-range-thumb { width: 25px; height: 25px; }
    input[type=number] { width: 100px; font-size: 14px; padding: 6px 10px; }
    .price-container div { font-size: 14px; }
    .tooltip { font-size: 12px; padding: 4px 8px; top: -36px; }
  }
</style>
</head>
<body>

<div class="calculator">
  <h1>Fleet Pricing Calculator</h1>

  <div class="package-container">
    <div class="package-card" data-package="Launch">
      <h3>Launch</h3>
      <p>$290 / 50 vehicles</p>
    </div>
    <div class="package-card" data-package="Growth">
      <h3>Growth</h3>
      <p>$450 / 50 vehicles</p>
    </div>
    <div class="package-card" data-package="Enterprise-AI">
      <h3>Enterprise-AI</h3>
      <p>$850 / 50 vehicles</p>
    </div>
  </div>

  <div id="packageDescription">
    Select a package to see what’s included.
  </div>

  <div class="slider-container" id="sliderContainer">
    Fleet Size: <span class="fleet-label" id="fleetValue">50</span> vehicles
    <input type="range" id="fleetSize" min="50" max="5000" step="50" value="50">
    <div class="tooltip" id="sliderTooltip">$0 per month</div>
  </div>

  <input type="number" id="fleetInput" min="50" max="5000" step="1" value="50">

  <div class="price-container">
    <div id="monthlyPrice">$0 per month</div>
    <div id="perVehiclePrice">$0 per vehicle</div>
    <div id="yearlyPrice">$0 per year</div>
  </div>

</div>

<script>
const packages = {
  "Launch": { minFleet:50,maxFleet:5000,minPrice:290,maxPrice:12000, features:[
    "Reservations","Fleet Management","Pricing Management","Payments","Template Management",
    "Customer Profiles","Company Management","Reporting","Maintenance","Notes",
    "Claims Management","Support","OTA Integration"
  ]},
  "Growth": { minFleet:50,maxFleet:5000,minPrice:450,maxPrice:16000, features:[
    "Reservations","Fleet Management","Pricing Management","Payments","Template Management",
    "Customer Profiles","Company Management","Reporting","Maintenance","Notes",
    "Claims Management","Support","OTA Integration",
    "<span class='highlight'>E-signature</span>",
    "<span class='highlight'>Insurance Verification</span>"
  ]},
  "Enterprise-AI": { minFleet:50,maxFleet:5000,minPrice:850,maxPrice:25000, features:[
    "Reservations","Fleet Management","Pricing Management","Payments","Template Management",
    "Customer Profiles","Company Management","Reporting","Maintenance","Notes",
    "Claims Management","Support","OTA Integration",
    "<span class='highlight'>E-signature</span>",
    "<span class='highlight'>Insurance Verification</span>",
    "<span class='highlight'>Res Plug-In</span>",
    "<span class='highlight'>Website</span>",
    "<span class='highlight'>AI Smart Res Planner</span>",
    "<span class='highlight'>AI Vehicle Inspection</span>",
    "<span class='highlight'>Optimize fleet utilization</span>",
    "<span class='highlight'>Credit Profile Check</span>",
    "<span class='highlight'>Carla AI Agent</span>",
    "<span class='highlight'>Multi-Brand Support</span>",
    "<span class='highlight'>Vehicle Tracking</span>",
    "<span class='highlight'>AI-Based Dynamic Pricing Engine</span>"
  ]}
};

let currentPackage = null;

const slider = document.getElementById("fleetSize");
const input = document.getElementById("fleetInput");
const output = document.getElementById("monthlyPrice");
const fleetVal = document.getElementById("fleetValue");
const tooltip = document.getElementById("sliderTooltip");
const sliderContainer = document.getElementById("sliderContainer");
const perVehicleOutput = document.getElementById("perVehiclePrice");
const yearlyOutput = document.getElementById("yearlyPrice");
const packageCards = document.querySelectorAll(".package-card");
const packageDescription = document.getElementById("packageDescription");

function calculatePrice(fleetSize){
  if(!currentPackage) return { totalPrice:0, perVehicle:0, yearly:0 };
  if(fleetSize <= currentPackage.minFleet) {
    const total = currentPackage.minPrice;
    return { totalPrice:total, perVehicle:(total/fleetSize).toFixed(2), yearly:(total*12) };
  }
  const fraction = (fleetSize-currentPackage.minFleet)/(currentPackage.maxFleet-currentPackage.minFleet);
  const total = Math.round(currentPackage.minPrice + (currentPackage.maxPrice-currentPackage.minPrice)*Math.pow(fraction,0.8));
  return { totalPrice:total, perVehicle:(total/fleetSize).toFixed(2), yearly:(total*12) };
}

function updateDescription(){
  if(!currentPackage){
    packageDescription.textContent="Select a package to see what’s included.";
    return;
  }
  const featuresList = currentPackage.features.map(f=>`<li>${f}</li>`).join("");
  packageDescription.innerHTML=`<ul>${featuresList}</ul>`;
}

function updateCalculator(fleetSize){
  if(!currentPackage) return;
  if(isNaN(fleetSize) || fleetSize<currentPackage.minFleet) fleetSize=currentPackage.minFleet;
  if(fleetSize>currentPackage.maxFleet) fleetSize=currentPackage.maxFleet;

  fleetVal.textContent=fleetSize;
  slider.value=fleetSize;
  input.value=fleetSize;

  const result = calculatePrice(fleetSize);
  output.textContent="$"+result.totalPrice+" per month";
  perVehicleOutput.textContent="$"+result.perVehicle+" per vehicle";
  yearlyOutput.textContent="$"+result.yearly+" per year";
  tooltip.textContent="$"+result.totalPrice+" per month";

  const percent = (fleetSize-currentPackage.minFleet)/(currentPackage.maxFleet-currentPackage.minFleet);
  tooltip.style.left=`calc(${percent*100}% - 15px)`;
}

slider.addEventListener("input",()=>updateCalculator(parseInt(slider.value)));
input.addEventListener("input",()=>updateCalculator(parseInt(input.value)));

packageCards.forEach(card=>{
  card.addEventListener("click",()=>{
    packageCards.forEach(c=>c.classList.remove("active"));
    card.classList.add("active");
    currentPackage = packages[card.dataset.package];

    slider.min=currentPackage.minFleet;
    slider.max=currentPackage.maxFleet;
    input.min=currentPackage.minFleet;
    input.max=currentPackage.maxFleet;

    sliderContainer.style.display="block";
    input.style.display="inline-block";

    updateDescription();
    updateCalculator(currentPackage.minFleet);

    // Tooltip color dynamically based on package
    if(card.dataset.package === "Launch"){
      tooltip.style.backgroundColor="#F4F5F7";
      tooltip.style.color="#081E32";
    } else {
      tooltip.style.backgroundColor="#007A55";
      tooltip.style.color="#FFFFFF";
    }
  });
});

updateDescription();
</script>

</body>
</html>
